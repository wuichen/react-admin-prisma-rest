# Migration `20200526162632-ini`

This migration has been generated by I Chen Wu at 5/26/2020, 4:26:32 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Baskets" (
"command_id" integer  NOT NULL ,"id" SERIAL,"product_id" integer  NOT NULL ,"quantity" integer  NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Baskets" ADD FOREIGN KEY ("command_id")REFERENCES "public"."Commands"("id") ON DELETE CASCADE  ON UPDATE CASCADE

ALTER TABLE "public"."Baskets" ADD FOREIGN KEY ("product_id")REFERENCES "public"."Products"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200526155921-ee..20200526162632-ini
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("PRISMA_POSTGRES_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -48,10 +48,20 @@
   image       String?
   description String?
   stock       Int?
   Review      Reviews[]
+  Basket      Baskets[]
 }
+model Baskets {
+  id         Int      @default(autoincrement()) @id
+  command    Commands @relation(fields: [command_id], references: [id])
+  command_id Int
+  product_id Int
+  quantity   Int
+  product    Products @relation(fields: [product_id], references: [id])
+}
+
 model Commands {
   id             Int        @id
   reference      String?
   date           DateTime?  @default(now())
@@ -66,8 +76,9 @@
   status         String?
   returned       Boolean?
   Invoice        Invoices[]
   Review         Reviews[]
+  Basket         Baskets[]
 }
 model Invoices {
   id             Int        @id
```


